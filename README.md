# federal_mbt

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **Python-–ø–∞–π–ø–ª–∞–π–Ω** –¥–ª—è —Å–±–æ—Ä–∞, OCR-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ **—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –±—é–¥–∂–µ—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤**.  
–ü–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π**, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–µ—Ä–∏–æ–¥ **–ø—è—Ç–Ω–∏—Ü–∞ ‚Üí –ø—è—Ç–Ω–∏—Ü–∞**, –≤–µ–¥—ë—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã –∑–∞ —Å—á—ë—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –ø—Ä–∞–≤–∏–ª –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

## üìä –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è:

- —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞;
- OCR-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞;
- –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Å–ª–æ–≤ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ);
- –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤;
- –æ—Ç–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –±—é–¥–∂–µ—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–π –Ω–µ–¥–µ–ª–µ.

---

## üß† –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–∞–π–ø–ª–∞–π–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥–∏ **—Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**:

1. **`download_pdf.py`**  
   –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç

2. **`minepdf.py`**  
   OCR-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF

3. **`morphy.py`**  
   –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (–ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è)

4. **`classifer2.0.py`**  
   –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ—Ç–±–æ—Ä —Ü–µ–ª–µ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

5. **`pipeline.py`**  
   –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
project_root/
‚îÇ
‚îú‚îÄ‚îÄ pipeline.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ download_pdf.py              # –ó–∞–≥—Ä—É–∑–∫–∞ PDF
‚îú‚îÄ‚îÄ minepdf.py                   # OCR
‚îú‚îÄ‚îÄ morphy.py                    # –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ classifer2.0.py              # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ runs/
‚îÇ   ‚îî‚îÄ‚îÄ YYYY-MM-DD__YYYY-MM-DD/
‚îÇ       ‚îú‚îÄ‚îÄ pipeline_YYYYMMDD_HHMMSS.log
‚îÇ       ‚îú‚îÄ‚îÄ downloaded_documents/
‚îÇ       ‚îú‚îÄ‚îÄ text_output_ocr/
‚îÇ       ‚îú‚îÄ‚îÄ text_output_ocr_normalized/
‚îÇ       ‚îú‚îÄ‚îÄ –±—é–¥–∂–µ—Ç–Ω—ã–µ_–¥–æ–∫—É–º–µ–Ω—Ç—ã/
‚îÇ       ‚îî‚îÄ‚îÄ –¥–æ–∫—É–º–µ–Ω—Ç—ã_—Ü—Ñ–æ/
‚îÇ
‚îî‚îÄ‚îÄ README.md
````

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### üêç Python

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è: **Python 3.9+**

### üì¶ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```bash
pip install requests tqdm pytesseract pdf2image pymorphy3
```

---

### üñ• –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Windows)

#### 1Ô∏è‚É£ Tesseract OCR

–°–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
[https://github.com/UB-Mannheim/tesseract/wiki](https://github.com/UB-Mannheim/tesseract/wiki)

‚ö†Ô∏è –ü—É—Ç—å –∫ `tesseract.exe` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω –≤ `minepdf.py`.

---

#### 2Ô∏è‚É£ Poppler for Windows

–°–∫–∞—á–∞—Ç—å:
[https://github.com/oschwartz10612/poppler-windows](https://github.com/oschwartz10612/poppler-windows)

‚ö†Ô∏è –ü—É—Ç—å –∫ `poppler/bin` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å—Ä–µ–¥—ã `PATH`.

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞

### üîÅ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: **–ø—è—Ç–Ω–∏—Ü–∞ ‚Üí –ø—è—Ç–Ω–∏—Ü–∞**

```bash
python pipeline.py
```

---

### üóì –†—É—á–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–∞—Ç

```bash
python pipeline.py \
  --base-dir "D:\searchreferallaw" \
  --date-from 29.01.2026 \
  --date-to 05.02.2026
```

---

## ‚è± –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (Windows)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π Windows**:

**–¢—Ä–∏–≥–≥–µ—Ä**

* –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
* –î–µ–Ω—å: –ø—è—Ç–Ω–∏—Ü–∞

**–î–µ–π—Å—Ç–≤–∏–µ**

* Program/script: `python`
* Arguments: `pipeline.py --base-dir "D:\searchreferallaw"`
* Start in: `D:\searchreferallaw`

---

## üßæ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–æ–≥-—Ñ–∞–π–ª:

```text
pipeline_YYYYMMDD_HHMMSS.log
```

–õ–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç:

* –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏;
* `stdout` –∏ `stderr` –≤—Å–µ—Ö —à–∞–≥–æ–≤;
* –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö;
* –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞.

---

## üß© –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã

### üìå –ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:

```text
classifer2.0.py
```

---

### 1Ô∏è‚É£ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –±—é–¥–∂–µ—Ç–∞

–ü—Ä–∏–º–µ—Ä —Å–ø–∏—Å–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:

```python
BUDGET_KEYWORDS = [
    "—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç",
    "—Å—É–±—Å–∏–¥–∏—è",
    "–º–µ–∂–±—é–¥–∂–µ—Ç–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—Ç",
    "—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "–±—é–¥–∂–µ—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞"
]
```

–°–ø–∏—Å–æ–∫ –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏–ª–∏ —Å—É–∂–∞—Ç—å –ø–æ–¥ –Ω—É–∂–Ω—É—é —Ç–µ–º–∞—Ç–∏–∫—É.

---

### 2Ô∏è‚É£ –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥ (–¶–§–û)**

```python
REGION_KEYWORDS = [
    "–¶–§–û",
    "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥",
    "–ú–æ—Å–∫–≤–∞",
    "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
]
```

**–ü—Ä–∏–º–µ—Ä: –°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥ (–°–ó–§–û)**

```python
REGION_KEYWORDS = [
    "–°–ó–§–û",
    "–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥",
    "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
    "–ö–∞—Ä–µ–ª–∏—è"
]
```

---

### 3Ô∏è‚É£ –ü–∞–ø–∫–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ó–∞–¥–∞—é—Ç—Å—è –≤ `classifer2.0.py`:

```python
BUDGET_OUTPUT_DIR = "–±—é–¥–∂–µ—Ç–Ω—ã–µ_–¥–æ–∫—É–º–µ–Ω—Ç—ã"
REGION_OUTPUT_DIR = "–¥–æ–∫—É–º–µ–Ω—Ç—ã_—Ü—Ñ–æ"
```

–î–ª—è –¥—Ä—É–≥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞:

```python
REGION_OUTPUT_DIR = "–¥–æ–∫—É–º–µ–Ω—Ç—ã_—Å–∑—Ñ–æ"
```

---

### 4Ô∏è‚É£ –õ–æ–≥–∏–∫–∞ –æ—Ç–±–æ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–¢–∏–ø–∏—á–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:

```python
if is_budget and is_region:
    ...
```

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ª–æ–≥–∏–∫–∞ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏.

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ù–∞ –≤—ã—Ö–æ–¥–µ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ:

* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã;
* —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –ø–æ –Ω–µ–¥–µ–ª—è–º;
* –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–∞–π–ø–ª–∞–π–Ω,
  –≥–æ—Ç–æ–≤—ã–π –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã –∏ —Ç–µ–º—ã.

